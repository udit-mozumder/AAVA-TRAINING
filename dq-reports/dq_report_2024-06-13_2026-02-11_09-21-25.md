# Data Quality Report: NGINX Access Logs (2024-06-13)

---

## Executive Summary

| Workflow ID        | Source Location                                        | Report Date  | Rule Version | Overall Status |
|--------------------|-------------------------------------------------------|--------------|-------------|---------------|
| DQ-NGX-2026-02-10  | s3://org-prod-logs/nginx/access_logs/2026/02/10/      | 2026-02-10   | v1.0        | ❌ FAIL        |

---

## DQ Scorecard

| Metric                     | Value         | Visual Indicator        |
|---------------------------|---------------|------------------------|
| Log Parseability          | 94.00%        | ██████████░░░ 94%      |
| Response Size Presence    | 91.49%        | █████████░░░░ 91%      |
| 5xx Error Rate            | 21.28%        | ███░░░░░░░░░ 21%       |
| Parsed Records            | 47 / 50       | ██████████░░░ 94%      |
| Invalid Records           | 3             |                        |

---

## Rule Evaluation Matrix

| Rule ID      | Rule Name               | Check Type    | Expected    | Actual           | Status | Impact   |
|--------------|------------------------|---------------|-------------|------------------|--------|----------|
| LOG_DQ_001   | Log Parseability       | completeness  | >=99%       | 94.00%           | ❌     | High     |
| LOG_DQ_002   | HTTP Status Validity   | validity      | Allowed set | No allowed_values | ❌     | Low      |
| LOG_DQ_003   | Response Size Presence | completeness  | >=98%       | 91.49%           | ❌     | Medium   |
| LOG_DQ_004   | 5xx Error Rate         | distribution  | <=2%        | 21.28%           | ❌     | Critical |

---

## Detailed Rule Findings

| Rule Name               | Description                                 | Status | Impact   | Details                                      |
|------------------------|---------------------------------------------|--------|----------|----------------------------------------------|
| Log Parseability       | % of logs successfully parsed                | ❌     | High     | 47/50 parsed; 3 invalid samples              |
| HTTP Status Validity   | Only allowed HTTP status codes present       | ❌     | Low      | No allowed set provided                      |
| Response Size Presence | % logs with response size present            | ❌     | Medium   | 4 missing 'response_size' fields             |
| 5xx Error Rate         | % of records with 5xx HTTP status            | ❌     | Critical | 10/47 parsed logs are 5xx errors (21.28%)    |

#### Invalid Log Samples

```
INVALID_LOG_LINE_SHOULD_FAIL_PARSING
MALFORMED FEB 10 LOG ENTRY ERROR
CORRUPTED_TRAILING_LOG_LINE
```

---

## Recommendations

| Area                    | Recommendation                                   | Priority |
|-------------------------|--------------------------------------------------|----------|
| Log Parseability        | Review log generation for format consistency      | High     |
| HTTP Status Validity    | Define and enforce allowed HTTP status codes      | Medium   |
| Response Size Presence  | Ensure all logs include response size             | Medium   |
| 5xx Error Rate          | Investigate backend errors and service stability  | Critical |

---

## Workflow Visualization

```
+-------------------+
|  S3 NGINX Logs    |
+-------------------+
         |
         v
+-------------------+
|  DQ Ingestion     |
+-------------------+
         |
         v
+-------------------+
|  Rule Evaluation  |
+-------------------+
         |
         v
+-------------------+
|  DQ Report Output |
+-------------------+
```

---

## Audit Metadata

| Field                 | Value                                                   |
|-----------------------|---------------------------------------------------------|
| Evaluation Timestamp  | 2024-06-13T00:00:00Z                                    |
| Rule Version          | v1.0                                                    |
| Fields Detected       | ip, timestamp, http_method, endpoint, status_code, response_size |
| Status Code Counts    | 200: 32, 401: 4, 403: 2, 404: 2, 500: 5, 502: 3, 503: 2 |
| Missing Field Counts  | response_size: 4                                        |
| Total Records         | 50                                                      |
| Parsed Records        | 47                                                      |
| Invalid Records       | 3                                                       |
