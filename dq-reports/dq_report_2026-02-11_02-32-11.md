# Data Quality Report: NGINX Access Logs

---

## Executive Summary

| Report Date   | Workflow ID         | Source Location                                                |
|:-------------:|:-------------------:|:--------------------------------------------------------------|
| 2026-02-10    | DQ-NGX-2026-02-10   | s3://org-prod-logs/nginx/access_logs/2026/02/10/              |

| Rule Version  | Evaluation Timestamp        |
|:-------------:|:--------------------------:|
| v1.0          | 2024-06-10T00:00:00Z        |

---

## DQ Scorecard

| Metric                      | Value         | Visual Bar         |
|:--------------------------- |:-------------:|:------------------:|
| Parseability Rate           | 90.00% ❌      | █████████░░░ 90%   |
| Response Size Completeness  | 91.11% ❌      | █████████░░░ 91%   |
| 5xx Error Rate              | 20.00% ❌      | ███░░░░░░░░ 20%    |
| HTTP Status Validity        | FAIL ❌        | N/A               |

---

## Rule Evaluation Matrix

| Rule ID      | Rule Name                | Type          | Expected    | Actual              | Status |
|:------------:|:------------------------:|:-------------:|:-----------:|:-------------------:|:------:|
| LOG_DQ_001   | Log Parseability         | Completeness  | >=99%       | 90.00%              | ❌     |
| LOG_DQ_002   | HTTP Status Validity     | Validity      | Allowed set | No allowed_values   | ❌     |
| LOG_DQ_003   | Response Size Presence   | Completeness  | >=98%       | 91.11%              | ❌     |
| LOG_DQ_004   | 5xx Error Rate           | Distribution  | <=2%        | 20.00%              | ❌     |

---

## Detailed Rule Findings

| Rule Name                | Impact    | Details                                                                 |
|:------------------------:|:---------:|:-----------------------------------------------------------------------|
| Log Parseability         | High      | 45/50 logs parsed. 5 invalid. Examples: `INVALID_LOG_LINE_SHOULD_FAIL_PARSING` |
| HTTP Status Validity     | Low       | Status codes found: 200(28), 401(3), 403(2), 404(2), 500(5), 502(2), 503(2)  |
| Response Size Presence   | Medium    | 4 records missing `response_size` field                                 |
| 5xx Error Rate           | Critical  | 11/50 logs with 5xx status codes (20%).                                 |

---

## Recommendations

| Issue                      | Recommendation                                        |
|:--------------------------:|:-----------------------------------------------------|
| Low Parseability           | Review log generator for format inconsistencies.      |
| High 5xx Error Rate        | Investigate backend/system issues causing errors.     |
| Missing Response Size      | Ensure all log lines include `response_size`.         |
| Status Validity Fail       | Define and enforce allowed HTTP status values.        |

---

## Workflow Visualization

```
+-------------------------+
|   S3 NGINX Access Logs  |
+-----------+-------------+
            |
            v
+-------------------------+
|    DQ Evaluation Job    |
+-----------+-------------+
            |
            v
+-------------------------+
|   Rule Checks (4)       |
+-----------+-------------+
            |
            v
+-------------------------+
|   DQ Markdown Report    |
+-------------------------+
```

---

## Audit Metadata

| Field              | Value                                                  |
|:------------------:|:-----------------------------------------------------:|
| Source             | s3://org-prod-logs/nginx/access_logs/2026/02/10/      |
| Report Date        | 2026-02-10                                            |
| Workflow ID        | DQ-NGX-2026-02-10                                     |
| Rule Version       | v1.0                                                  |
| Evaluation Time    | 2024-06-10T00:00:00Z                                  |
| Total Records      | 50                                                    |
| Parsed Records     | 45                                                    |
| Invalid Records    | 5                                                     |
| Fields Detected    | ip, timestamp, http_method, endpoint, status_code, response_size |
| Invalid Samples    | INVALID_LOG_LINE_SHOULD_FAIL_PARSING, MALFORMED FEB 10 LOG ENTRY ERROR, CORRUPTED_TRAILING_LOG_LINE |
