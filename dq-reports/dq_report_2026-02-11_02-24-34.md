# Data Quality Report: NGINX Access Logs (2024-06-10)

---

## Executive Summary

| Workflow ID         | Source                                               | Report Date  | Rule Version | Overall Status |
|---------------------|------------------------------------------------------|--------------|-------------|---------------|
| DQ-NGX-2026-02-10   | s3://org-prod-logs/nginx/access_logs/2026/02/10/    | 2026-02-10   | v1.0        | ❌ FAIL        |

---

## Data Quality Scorecard

| Rule Name                | Expected    | Actual      | Status | Impact    | Visual Score             |
|------------------------- |------------|-------------|--------|-----------|--------------------------|
| Log Parseability         | >=99%      | 90.00%      | ❌     | High      | █████████░░░░░░ 90%      |
| HTTP Status Validity     | Allowed set| See details | ❌     | Low       | N/A                     |
| Response Size Presence   | >=98%      | 93.33%      | ❌     | Medium    | ██████████░░░░ 93%       |
| 5xx Error Rate           | <=2%       | 22.22%      | ❌     | Critical  | ███░░░░░░░░░░ 22%        |

---

## Rule Evaluation Matrix

| Rule ID      | Name                   | Type         | Expected    | Actual           | Status | Impact    |
|--------------|------------------------|--------------|-------------|------------------|--------|-----------|
| LOG_DQ_001   | Log Parseability       | Completeness | >=99%       | 90.00%           | ❌     | High      |
| LOG_DQ_002   | HTTP Status Validity   | Validity     | Allowed set | See details      | ❌     | Low       |
| LOG_DQ_003   | Response Size Presence | Completeness | >=98%       | 93.33%           | ❌     | Medium    |
| LOG_DQ_004   | 5xx Error Rate         | Distribution | <=2%        | 22.22%           | ❌     | Critical  |

---

## Detailed Rule Findings

### 1. Log Parseability (LOG_DQ_001)
- **Total Records:** 50
- **Parsed Records:** 45
- **Invalid Records:** 5
- **Sample Invalid Entries:**
  - `INVALID_LOG_LINE_SHOULD_FAIL_PARSING`
  - `MALFORMED FEB 10 LOG ENTRY ERROR`
  - `CORRUPTED_TRAILING_LOG_LINE`

### 2. HTTP Status Validity (LOG_DQ_002)
- **Observed Status Codes:** 200, 401, 403, 404, 500, 502, 503
- **Status Code Counts:**

  | Status Code | Count |
  |-------------|-------|
  | 200         | 28    |
  | 401         | 3     |
  | 403         | 2     |
  | 404         | 2     |
  | 500         | 5     |
  | 502         | 2     |
  | 503         | 3     |

### 3. Response Size Presence (LOG_DQ_003)
- **Missing 'response_size' Fields:** 3

### 4. 5xx Error Rate (LOG_DQ_004)
- **5xx Errors (500, 502, 503):** 10
- **5xx Error Rate:** 22.22%

---

## Recommendations

| Issue                       | Recommendation                                   |
|-----------------------------|--------------------------------------------------|
| Log Parseability            | Review log generation and parsing logic.          |
| HTTP Status Validity        | Define and enforce allowed status codes.          |
| Response Size Presence      | Ensure all logs include 'response_size' field.    |
| 5xx Error Rate              | Investigate backend/service outages or failures.  |

---

## Workflow Visualization

```
+-------------------+      +---------------------+      +---------------------+
|   Log Ingestion   +----->|   Parsing & DQ      +----->|   Rule Evaluation   |
+-------------------+      +---------------------+      +---------------------+
        |                        |                              |
        v                        v                              v
   Raw NGINX Logs         Parsed Records                DQ Results & Report
```

---

## Audit Metadata

| Field             | Value                                                |
|-------------------|------------------------------------------------------|
| Evaluation Time   | 2024-06-10T00:00:00Z                                |
| Rule Version      | v1.0                                                |
| Workflow ID       | DQ-NGX-2026-02-10                                   |
| Source            | s3://org-prod-logs/nginx/access_logs/2026/02/10/    |
| Report Date       | 2026-02-10                                          |
| Fields Detected   | ip, timestamp, http_method, endpoint, status_code, response_size |
