# Data Quality Report:

## Report Metadata

| Field | Value |
|-------|-------|
| Workflow ID | DQ-XXX |
| Source File | s3://bucket/path/file.log |
| Report Date | 2024-06-13 |
| Rule Version | v1.0 |
| Evaluation Timestamp | 2024-06-13T12:00:00Z |
| Overall Status | FAIL |

## Executive Summary

| Metric | Value |
|--------|-------|
| Total Records | 50 |
| Parsed Records | 47 |
| Invalid Records | 3 |
| Fields Detected | ip, timestamp, http_method, endpoint, status_code, response_size |
| Status Code 200 | 31 |
| Status Code 401 | 4 |
| Status Code 403 | 2 |
| Status Code 404 | 2 |
| Status Code 500 | 5 |
| Status Code 502 | 2 |
| Status Code 503 | 3 |
| Missing Response Size | 3 |

## DQ Scorecard

| Rule | Actual vs Expected | Visual | Status | Impact |
|------|--------------------|--------|--------|--------|
| Log Parseability | 94.00% / >=99% | ██████░░░░ 94% | ❌ | High |
| HTTP Status Validity | 200,401,403,404,500,502,503 observed / Only [200,201,204] | ███░░░░░░ 44% | ❌ | Low |
| Response Size Presence | 93.62% / >=98% | ██████░░░░ 94% | ❌ | Medium |
| 5xx Error Rate | 21.28% / <=2% | ██░░░░░░░ 21% | ❌ | High |

## Rule Evaluation Matrix

| Rule ID | Rule Name | Check Type | Expected | Actual | Status | Impact |
|---------|-----------|------------|----------|--------|--------|--------|
| LOG_DQ_001 | Log Parseability | completeness | >=99% | 94.00% | ❌ | High |
| LOG_DQ_002 | HTTP Status Validity | validity | Only [200,201,204] | 200,401,403,404,500,502,503 observed | ❌ | Low |
| LOG_DQ_003 | Response Size Presence | completeness | >=98% | 93.62% | ❌ | Medium |
| LOG_DQ_004 | 5xx Error Rate | distribution | <=2% | 21.28% | ❌ | High |

## Detailed Rule Findings

| Rule ID | Observations |
|---------|-------------|
| LOG_DQ_001 | Invalid samples: INVALID_LOG_LINE_SHOULD_FAIL_PARSING, MALFORMED FEB 10 LOG ENTRY ERROR, CORRUPTED_TRAILING_LOG_LINE |
| LOG_DQ_002 | Observed status codes: 200 (31), 401 (4), 403 (2), 404 (2), 500 (5), 502 (2), 503 (3); Error class summary: 4xx (8), 5xx (10) |
| LOG_DQ_003 | Missing response_size in 3 records out of 47 parsed |
| LOG_DQ_004 | 5xx breakdown: 500 (5), 502 (2), 503 (3) |

## Recommendations

| Priority | Area | Recommendation |
|----------|------|---------------|
| High | Log Parseability | Review log generation and parsing logic to ensure >=99% parseability. |
| Low | HTTP Status Validity | Investigate non-200/201/204 status codes; verify expected status code set. |
| Medium | Response Size Presence | Ensure all log lines include response_size field. |
| High | 5xx Error Rate | Investigate and remediate sources of 5xx errors to maintain <=2%. |

## Workflow

S3 Logs
  |
  v
Agent-1: Profiling
  |
  v
Agent-2: Rule Engine
  |
  v
Agent-3: Markdown Publisher

## Audit Information

| Field | Value |
|-------|-------|
| Generated By | Insight and Markdown Publisher Agent |
| Input Agents | Agent-1, Agent-2 |
| Deterministic | Yes |
| Re-Runnable | Yes |